"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.promiseHash = void 0;
/**
 * Get a hash of promises and await them all.
 * Then return the same hash with the resolved values.
 * @example
 * export let loader: LoaderFunction = async ({ request }) => {
 *   return json(
 *     promiseHash({
 *       user: getUser(request),
 *       posts: getPosts(request),
 *     })
 *   );
 * };
 * @example
 * export let loader: LoaderFunction = async ({ request }) => {
 *   return json(
 *     promiseHash({
 *       user: getUser(request),
 *       posts: promiseHash({
 *         list: getPosts(request),
 *         comments: promiseHash({
 *           list: getComments(request),
 *           likes: getLikes(request),
 *         }),
 *       }),
 *     })
 *   );
 * };
 */
async function promiseHash(hash) {
    return Object.fromEntries(await Promise.all(Object.entries(hash).map(async ([key, promise]) => [key, await promise])));
}
exports.promiseHash = promiseHash;
