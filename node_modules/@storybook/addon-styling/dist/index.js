'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var previewApi = require('@storybook/preview-api');
var d = require('react');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var d__default = /*#__PURE__*/_interopDefault(d);

var y=Object.defineProperty;var D=(e,t)=>{for(var r in t)y(e,r,{get:t[r],enumerable:!0});};var S={};D(S,{initializeThemeState:()=>h,pluckThemeFromContext:()=>c,useThemeParameters:()=>T});var _="@storybook/addon-styling",C=`${_}/theme-switcher`,g="theming",l="theme";var x={},R={REGISTER_THEMES:`${C}/REGISTER_THEMES`};function c({globals:e}){return e[l]||""}function T(){return previewApi.useParameter(g,x)}function h(e,t){previewApi.addons.getChannel().emit(R.REGISTER_THEMES,{defaultTheme:t,themes:e});}var M="html",A=e=>e.split(" ").filter(Boolean),G=({themes:e,defaultTheme:t,parentSelector:r=M})=>(h(Object.keys(e),t),(o,p)=>{let{themeOverride:s}=T(),n=c(p);return previewApi.useEffect(()=>{let i=s||n||t,m=document.querySelector(r);Object.entries(e).filter(([u])=>u!==i).forEach(([u,f])=>{let E=A(f);E.length>0&&m.classList.remove(...E);});let a=A(e[i]);a.length>0&&m.classList.add(...a);},[s,n,r]),o()});var O="html",k="data-theme",V=({themes:e,defaultTheme:t,parentSelector:r=O,attributeName:o=k})=>(h(Object.keys(e),t),(p,s)=>{let{themeOverride:n}=T(),i=c(s);return previewApi.useEffect(()=>{let m=document.querySelector(r),a=n||i||t;m.setAttribute(o,e[a]);},[n,i,r,o]),p()});var H=([e,t])=>t,Q=({Provider:e,GlobalStyles:t,defaultTheme:r,themes:o={}})=>{let p=Object.keys(o),s=r||p[0];return h(p,s),(n,i)=>{let{themeOverride:m}=T(),a=c(i),u=previewApi.useMemo(()=>{let f=m||a||s,E=Object.entries(o);return E.length===1?H(E[0]):o[f]},[o,a,m]);return e?d__default.default.createElement(e,{theme:u},t&&d__default.default.createElement(t,null),n()):d__default.default.createElement(d__default.default.Fragment,null,t&&d__default.default.createElement(t,null),n())}};var ne={};

exports.DecoratorHelpers = S;
exports.default = ne;
exports.withThemeByClassName = G;
exports.withThemeByDataAttribute = V;
exports.withThemeFromJSXProvider = Q;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map