'use strict';

var managerApi = require('@storybook/manager-api');
var n = require('react');
var api = require('@storybook/api');
var theming = require('@storybook/theming');
var components = require('@storybook/components');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var n__default = /*#__PURE__*/_interopDefault(n);

var i="@storybook/addon-styling",s=`${i}/theme-switcher`,m="theming";var h={themesList:[],themeDefault:void 0},c={},p={REGISTER_THEMES:`${s}/REGISTER_THEMES`};var O=theming.styled.div(({theme:e})=>({fontSize:e.typography.size.s2-1,marginLeft:10})),P=e=>e.length>1,l=()=>{let{themeOverride:e}=api.useParameter(m,c),[{theme:t},A]=api.useGlobals(),[{themesList:a,themeDefault:T},S]=api.useAddonState(s,h);api.useChannel({[p.REGISTER_THEMES]:({themes:o,defaultTheme:r})=>{S(_=>({..._,themesList:o,themeDefault:r}));}});let E=n.useMemo(()=>{if(e)return "Story override";let o=t||T;return o&&`${o} theme`},[e,T,t]);return P(a)&&n__default.default.createElement(n.Fragment,null,n__default.default.createElement(components.WithTooltip,{placement:"top",trigger:"click",closeOnClick:!0,tooltip:({onHide:o})=>n__default.default.createElement(components.TooltipLinkList,{links:a.map(r=>({id:r,title:r,active:t===r,onClick:()=>{A({theme:r}),o();}}))})},n__default.default.createElement(components.IconButton,{key:s,active:!e,title:"Theme"},n__default.default.createElement(components.Icons,{icon:"paintbrush"}),E&&n__default.default.createElement(O,null,E))))};managerApi.addons.register(i,e=>{managerApi.addons.add(s,{type:managerApi.types.TOOL,title:"Theme",match:({viewMode:t})=>!!(t&&t.match(/^(story|docs)$/)),render:l,paramKey:m});});
//# sourceMappingURL=out.js.map
//# sourceMappingURL=manager.js.map